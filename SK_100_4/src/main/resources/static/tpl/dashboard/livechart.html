
<script type="text/javascript">
$(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#humidity').highcharts({
        	colors: ["#cc0033"],
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                           // var x = (new Date()).getTime(), // current time
                           //     y = Math.random();
                            
                            $.ajax({
                            	  dataType: 'json',
                            	  url: "/humiditylive",
                            	  success: function(data){
                            		  var x = (new Date()).getTime();
                            		  y = data;
                            		  series.addPoint([x, y], true, true);
                            	  }
                            	});
                            
                           // series.addPoint([x, y], true, true);
                        }, 2000);
                    }
                }
            },
            title: {
                text: 'Humidity Data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Humidity'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Humidity data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: 0
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});	

$(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#temperature').highcharts({
        	colors: [" #ff6633"],
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                           // var x = (new Date()).getTime(), // current time
                           //     y = Math.random();
                            
                            $.ajax({
                            	  dataType: 'json',
                            	  url: "/temperaturelive",
                            	  success: function(data){
                            		  var x = (new Date()).getTime();
                            		  y = data;
                            		  series.addPoint([x, y], true, true);
                            	  }
                            	});
                            
                           // series.addPoint([x, y], true, true);
                        }, 2000);
                    }
                }
            },
            title: {
                text: 'Temperature Data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Temperature'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Temperature data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: 0
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});	


$(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#discomfort').highcharts({
        	colors: [" #ff6633"],
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                           // var x = (new Date()).getTime(), // current time
                           //     y = Math.random();
                            
                            $.ajax({
                            	  dataType: 'json',
                            	  url: "/discomfortlive",
                            	  success: function(data){
                            		  var x = (new Date()).getTime();
                            		  y = data;
                            		  series.addPoint([x, y], true, true);
                            		  
/*                             		  if(data > 80){
                            			  $("#back").fadeOut(300, function () {
                            	                $("#back").css("background-color", "red");
                            	                $("#back").fadeIn(300);
                            	                $("#textAlert").text("Discomfort high");
                            	            });
                            		  }
                            		  else{
                            			  $("#back").css("background-color", "#edf1f2");
                            			  $("#textAlert").text("Live Chart");
                            		  }
 */                            		  
                            		  //$("#back").css("background-color", "white");
                            	  }
                            	});
                            
                           // series.addPoint([x, y], true, true);
                        }, 2000);
                    }
                }
            },
            title: {
                text: 'Discomfort Data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'Discomfort'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'Discomfort data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: 0
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});	

$(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#co2').highcharts({
        	colors: [" #cc0033"],
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                           // var x = (new Date()).getTime(), // current time
                           //     y = Math.random();
                            
                            $.ajax({
                            	  dataType: 'json',
                            	  url: "/co2live",
                            	  success: function(data){
                            		  var x = (new Date()).getTime();
                            		  y = data;
                            		  series.addPoint([x, y], true, true);
                            	  }
                            	});
                            
                           // series.addPoint([x, y], true, true);
                        }, 2000);
                    }
                }
            },
            title: {
                text: 'co2 Data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'co2'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'co2 data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: 0
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});	

$(function () {
    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                useUTC: false
            }
        });

        $('#eye').highcharts({
        	colors: [" #cc0033"],
            chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
                events: {
                    load: function () {

                        // set up the updating of the chart each second
                        var series = this.series[0];
                        setInterval(function () {
                           // var x = (new Date()).getTime(), // current time
                           //     y = Math.random();
                            
                            $.ajax({
                            	  dataType: 'json',
                            	  url: "/eyelive",
                            	  success: function(data){
                            		  var x = (new Date()).getTime();
                            		  y = data;
                            		  series.addPoint([x, y], true, true);
                            	  }
                            	});
                            
                           // series.addPoint([x, y], true, true);
                        }, 2000);
                    }
                }
            },
            title: {
                text: 'eye Data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150
            },
            yAxis: {
                title: {
                    text: 'eye'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
            series: [{
                name: 'eye data',
                data: (function () {
                    // generate an array of random data
                    var data = [],
                        time = (new Date()).getTime(),
                        i;

                    for (i = -19; i <= 0; i += 1) {
                        data.push({
                            x: time + i * 1000,
                            y: 0
                        });
                    }
                    return data;
                }())
            }]
        });
    });
});	


</script>
<div class="bg-light lter b-b wrapper-md" >
	<h1 class="m-n font-thin h5 font-bold" id="textAlert">Live Chart</h1>
</div>

<div class="wrapper-md"  id="back" ng-controller="LiveChartController">
	<div class="row">
		<div id="eye" class="col-md-6"></div>
		<div id="co2" class="col-md-6"></div>
	</div>
	<br/>
	<div class="row" >
		<div id="temperature" class="col-md-4"></div>
		<div id="humidity" class="col-md-4"></div>
		<div id="discomfort" class="col-md-4"></div>
	</div>	
	
</div>
<!-- 
 -->
